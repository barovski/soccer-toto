<template name="games">

  <div class="mdl-grid">
    <div class="mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--4-col-phone">
      <h4>Offene Spiele</h4>
      {{> openGames}}
    </div>

    <div class="mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--4-col-phone">
      <h4>Abgeschlossene Spiele</h4>
      {{> finishedGames}}
    </div>
  </div>

</template>


<template name="openGames">
  <table id="groupsTable" class="mdl-data-table mdl-js-data-table">
    <thead>
      <tr>
        <th class="mdl-data-table__cell--non-numeric">Datum</th>
        <th class="mdl-data-table__cell--non-numeric">Uhrzeit</th>
        <th class="mdl-data-table__cell--non-numeric">Gruppe</th>
        <th class="mdl-data-table__cell--non-numeric">Mannschaft 1</th>
        <th class="mdl-data-table__cell--non-numeric">Mannschaft 2</th>
        <th class="mdl-data-table__cell--non-numeric">Auf Ergebnis wetten</th>
      </tr>
    </thead>
    <tbody>
      {{#each openGames}}
        <tr>
          <td class="mdl-data-table__cell--non-numeric">{{date}}</td>
          <td class="mdl-data-table__cell--non-numeric">{{time}}</td>
          <td class="mdl-data-table__cell--non-numeric">{{groupName}}</td>
          <td class="mdl-data-table__cell--non-numeric">{{team1.name}}</td>
          <td class="mdl-data-table__cell--non-numeric">{{team2.name}}</td>
          <td class="mdl-data-table__cell--non-numeric">
            {{#if currentUser}}
              <form id="addBetResult">
                {{#if canBet}}
                  <div id="resultInputDiv" class="mdl-textfield mdl-js-textfield">
                    <input class="resultInput mdl-textfield__input" id="resultTeam1" type="number" name="resultTeam1" placeholder="{{team1.shortname}}" required>:<input class="resultInput mdl-textfield__input" id="resultTeam2" type="number" name="resultTeam2" placeholder="{{team2.shortname}}" required>
                  </div>
                  <button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">Wette abschliessen</button>
                {{/if}}
              </form>
              {{#each madeBet}}
                {{result1}}:{{result2}} |
              {{/each}}
            {{else}}
              <span>Bitte einloggen um Wette abzugeben!</span>
            {{/if}}
          </td>
        </tr>
      {{/each}}
    </tbody>
  </table>
</template>


<template name="finishedGames">
  <table id="groupsTable" class="mdl-data-table mdl-js-data-table">
    <thead>
      <tr>
        <th class="mdl-data-table__cell--non-numeric">Datum</th>
        <th class="mdl-data-table__cell--non-numeric">Uhrzeit</th>
        <th class="mdl-data-table__cell--non-numeric">Gruppe</th>
        <th class="mdl-data-table__cell--non-numeric">Mannschaft 1</th>
        <th class="mdl-data-table__cell--non-numeric">Mannschaft 2</th>
        <th class="mdl-data-table__cell--non-numeric">Ergebnis</th>
      </tr>
    </thead>
    <tbody>
      {{#each closedGames}}
        <tr>
          <td class="mdl-data-table__cell--non-numeric">{{date}}</td>
          <td class="mdl-data-table__cell--non-numeric">{{time}}</td>
          <td class="mdl-data-table__cell--non-numeric">{{groupName}}</td>
          <td class="mdl-data-table__cell--non-numeric">{{team1.name}}</td>
          <td class="mdl-data-table__cell--non-numeric">{{team2.name}}</td>
          <td class="mdl-data-table__cell--non-numeric">{{result1}} : {{result2}}</td>
        </tr>
      {{/each}}
    </tbody>
  </table>
</template>
